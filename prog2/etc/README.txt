mypasswd.c has seriously memory problem

